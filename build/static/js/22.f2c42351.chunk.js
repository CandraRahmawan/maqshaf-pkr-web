(this["webpackJsonpmaqshaf-pkr-web"]=this["webpackJsonpmaqshaf-pkr-web"]||[]).push([[22],{120:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o}));var r=function(t){localStorage.setItem("maqshaf-user",JSON.stringify(null===t||void 0===t?void 0:t.data))},a=function(){try{return JSON.parse(localStorage.getItem("maqshaf-user"))}catch(t){return console.error(t),null}},o=function(){localStorage.clear(),window.location.replace("/dashboard/login")}},126:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o}));var r=n(441),a=function(t){return(null===t||void 0===t?void 0:t.code)===r.a.OK},o=function(t){return(null===t||void 0===t?void 0:t.code)===r.a.UNAUTHORIZED}},130:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(159),a=n.n(r),o=n(160),i=n.n(o),c=n(126),s=n(120),l=function(t){return"GET"===t},u=function(t,e,n){var r;return fetch(function(t,e,n){return a()(t,n)+(l(e)?"?".concat(i.a.stringify(n)):"")}("https://maqshaf-api-dev.pesantrenkhoirurrooziqiin.com"+t,e,n),{method:e,headers:{api_token:null===(r=Object(s.a)())||void 0===r?void 0:r.token,"Content-Type":"application/json"},body:l(e)?void 0:JSON.stringify(n)}).then((function(t){return t.json()})).then((function(t){if(Object(c.b)(t)&&Object(s.b)(),!Object(c.a)(t)){var e=t.code,n=t.message,r=t.data,a=new Error(n);throw a.code=e,a.message=n,a.data=r,a}return t}))}},132:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return c}));var r=n(0),a={SummaryDialog:Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(6),n.e(24)]).then(n.bind(null,459))})),IdentityDataDialog:Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(6),n.e(12),n.e(21)]).then(n.bind(null,486))})),ConfirmationPinDialog:Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(6),n.e(13)]).then(n.bind(null,461))}))},o={Dashboard:Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(23),n.e(33)]).then(n.bind(null,462))})),Login:Object(r.lazy)((function(){return n.e(31).then(n.bind(null,466))}))},i=Object(r.lazy)((function(){return n.e(32).then(n.bind(null,484))})),c=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(3),n.e(14),n.e(36)]).then(n.bind(null,485))}))},161:function(t,e){},232:function(t,e,n){"use strict";e.a=function(t){return{button_login:{marginTop:16},login_box:{padding:16},login_root:{margin:"0 auto",marginTop:"10%"},form:{width:"100%",marginTop:24},margin:{margin:t.spacing(2)},logo_login_wrapper:{paddingBottom:16,margin:"0 auto",textAlign:"center"}}}},472:function(t,e,n){"use strict";n.r(e);var r=n(158),a=n(475),o=n(112),i=n(228),c=n(284),s=n(210),l=n(283),u=n(294),d=n(442),b=n(443),j=n(30),h=n(33),f=n(127),m=n(0),g=n(286),O=n(130),p=n(126),x=n(120),v=function(t){var e=Object(m.useState)(!1),n=Object(f.a)(e,2),r=n[0],a=n[1],o=Object(g.a)("listAllUser",(function(t){return Object(O.a)("/administrator/login","POST",t)})),i=o.data,c=o.error,s=o.isLoading,l=o.mutate;return Object(m.useEffect)((function(){Object(p.a)(i)&&(Object(x.c)(i),t.replace("/dashboard")),c&&a(!0)}),[i,c]),{error:c,isLoading:s,handleSubmit:function(t){t.preventDefault();var e=t.target[0].value,n=t.target[1].value;l({username:e,password:n})},showAlert:r,setShowAlert:a}},y=n(232),w=n(4),_=Object(j.a)(y.a)((function(t){var e=t.classes,n=t.t,r=t.history,a=v(r),j=a.error,f=a.isLoading,m=a.handleSubmit,g=a.showAlert,O=a.setShowAlert;return Object(w.jsxs)(o.a,{className:e.login_root,item:!0,xs:12,md:6,lg:4,children:[Object(w.jsxs)(i.a,{variant:"outlined",className:e.login_box,children:[Object(w.jsx)(c.a,{display:"flex",justifyContent:"center",className:e.logo_login_wrapper,children:Object(w.jsx)(c.a,{alignSelf:"center",children:Object(w.jsx)("h2",{children:"Login Administrator"})})}),Object(w.jsx)(s.a,{}),Object(w.jsx)("form",{onSubmit:m,className:e.form,children:Object(w.jsxs)(c.a,{display:"flex",flexDirection:"column",children:[Object(w.jsx)(l.a,{className:e.margin,placeholder:n("dashboard_login:placeholderUsername"),InputProps:{startAdornment:Object(w.jsx)(u.a,{position:"start",children:Object(w.jsx)(d.a,{})})}}),Object(w.jsx)(l.a,{type:"password",className:e.margin,placeholder:n("dashboard_login:placeholderPassword"),InputProps:{startAdornment:Object(w.jsx)(u.a,{position:"start",children:Object(w.jsx)(b.a,{})})}}),Object(w.jsx)(h.b,{type:"submit",className:e.button_login,isLoading:f,children:n("dashboard_login:loginLabel")})]})})]}),Object(w.jsx)(h.a.Floating,{severity:"error",showAlert:g,setShowAlert:O,text:null===j||void 0===j?void 0:j.message})]})})),S=n(110),A=n(132),N=Object(S.a)((function(t){return{root:{"& main":{padding:t.spacing(3)}}}})),P=function(t){var e=t.children,n=t.t,r=t.history,a=N();return Object(m.useEffect)((function(){Object(x.a)()&&r.replace("/dashboard")}),[]),Object(w.jsxs)("div",{className:a.root,children:[Object(w.jsx)(A.b.Login,{t:n}),Object(w.jsx)("main",{children:e}),Object(w.jsx)(A.a,{t:n})]})};e.default=Object(a.a)(["dashboard_login","glossary"])((function(t){var e=t.t,n=t.history,a=t.location;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(r.a,{children:[Object(w.jsx)("title",{children:e("dashboard_login:metaTitle")}),Object(w.jsx)("meta",{name:"description",content:e("dashboard_login:metaDescription")})]}),Object(w.jsx)(P,{t:e,history:n,children:Object(w.jsx)(_,{t:e,history:n,location:a})})]})}))}}]);
//# sourceMappingURL=22.f2c42351.chunk.js.map