(this["webpackJsonpmaqshaf-pkr-web"]=this["webpackJsonpmaqshaf-pkr-web"]||[]).push([[27],{138:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a=function(e){localStorage.setItem("maqshaf-user",JSON.stringify(null===e||void 0===e?void 0:e.data))},r=function(){try{return JSON.parse(localStorage.getItem("maqshaf-user"))}catch(e){return console.error(e),null}},i=function(){localStorage.clear(),window.location.replace("/dashboard/login")}},139:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a=n(471),r=function(e){return(null===e||void 0===e?void 0:e.code)===a.a.OK},i=function(e){return(null===e||void 0===e?void 0:e.code)===a.a.UNAUTHORIZED}},150:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(58),r=n(211),i=n.n(r),o=n(212),c=n.n(o),s=n(139),l=n(138),u=function(e){return"GET"===e},d=function(e,t,n,r){var o;return fetch(function(e,t,n){return i()(e,n)+(u(t)?"?".concat(c.a.stringify(n)):"")}("https://maqshaf-api.pesantrenkhoirurrooziqiin.com"+e,t,n),{method:t,headers:Object(a.a)({api_token:null===(o=Object(l.a)())||void 0===o?void 0:o.token},!r&&{"Content-Type":"application/json"}),body:u(t)?void 0:r?n:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){if(Object(s.b)(e)&&Object(l.b)(),!Object(s.a)(e)){var t=e.code,n=e.message,a=e.data,r=new Error(n);throw r.code=t,r.message=n,r.data=a,r}return e}))}},155:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return s}));var a=n(0),r={SummaryDialog:Object(a.lazy)((function(){return Promise.all([n.e(6),n.e(25),n.e(35)]).then(n.bind(null,496))})),IdentityDataDialog:Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(15),n.e(29)]).then(n.bind(null,534))})),ConfirmationPinDialog:Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(3),n.e(4),n.e(28)]).then(n.bind(null,500))}))},i={Dashboard:Object(a.lazy)((function(){return Promise.all([n.e(31),n.e(37)]).then(n.bind(null,501))})),Login:Object(a.lazy)((function(){return n.e(38).then(n.bind(null,505))}))},o=Object(a.lazy)((function(){return n.e(36).then(n.bind(null,532))})),c=Object(a.lazy)((function(){return Promise.all([n.e(21),n.e(40)]).then(n.bind(null,478))})),s=Object(a.lazy)((function(){return Promise.all([n.e(2),n.e(19),n.e(41)]).then(n.bind(null,533))}))},158:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n(51),r=n.n(a),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Rp";if(e){var n=e.toString().split("").reverse().join(""),a=n.match(/\d{1,3}/g);return"".concat(t,". ").concat(a.join(".").split("").reverse().join(""))}return e},o=function(e){return r()(e).format("DD MMM YYYY, HH:mm")}},180:function(e,t,n){"use strict";var a=n(59),r=n(49),i=n(58),o=n(0),c=n(8),s=n(123),l=n(155),u=n(138),d=n(3),b=Object(s.a)((function(e){return{drawer_header:Object(i.a)(Object(i.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),main_wrapper:{flexGrow:1,padding:e.spacing(3)},content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingscreen})},content_shift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeout,duration:e.transitions.duration.enteringscreen}),marginLeft:0}}}));t.a=function(e){var t=e.children,n=e.t,i=e.history,s=b(),m=Object(o.useState)(!1),j=Object(r.a)(m,2),f=j[0],h=j[1];return Object(o.useEffect)((function(){Object(u.a)()||i.replace("/dashboard/login")}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(l.c.Dashboard,{t:n,open:f,handleDrawerOpen:function(){return h(!0)}}),Object(d.jsx)(l.e,{t:n,open:f,handleDrawerClose:function(){return h(!1)}}),Object(d.jsxs)("main",{className:Object(c.a)(s.content,Object(a.a)({},s.content_shift,f)),children:[Object(d.jsx)("div",{className:s.drawer_header}),t]}),Object(d.jsx)(l.a,{t:n})]})}},213:function(e,t){},330:function(e,t,n){"use strict";var a=n(59),r=n(58),i=n(49),o=n(0),c=n(191),s={page:1,limit:10,total:0};t.a=function(e,t){var n=Object(o.useState)({}),l=Object(i.a)(n,2),u=l[0],d=l[1],b=Object(o.useState)(s),m=Object(i.a)(b,2),j=m[0],f=m[1];Object(o.useEffect)((function(){(null===e||void 0===e?void 0:e.data)&&Object(c.isEmpty)(u)&&f(Object(r.a)(Object(r.a)({},j),{},{total:e.pageSummary.total,page:e.pageSummary.current_page}))}),[null===e||void 0===e?void 0:e.data]);return{pageSummary:j,searchValue:u,handleSearch:function(e){"Enter"===e.key&&(f(s),setTimeout((function(){t()}),0),e.preventDefault())},handleChange:function(e,t){var n=e.currentTarget.value||e.target.value;if(n)d(Object(r.a)(Object(r.a)({},u),{},Object(a.a)({},t,n)));else{var i=Object(c.omit)(u,t);d(i)}},getPaginationTotal:function(){if(j.total<j.limit)return 1;var e=j.total%j.limit===0?0:1,t=j.total/j.limit;return Math.floor(t+e)},handleChangePage:function(e,n){f(Object(r.a)(Object(r.a)({},j),{},{page:n})),setTimeout((function(){t()}),0)},setSearchValue:d}}},398:function(e,t,n){"use strict";t.a=function(e){return{button_tambah:{marginBottom:20,marginTop:20},title_divider:{marginBottom:20},paper_form:{padding:20}}}},517:function(e,t,n){"use strict";n.r(t);var a=n(210),r=n(513),i=n(130),o=n(128),c=n(347),s=n(348),l=n(343),u=n(377),d=n(216),b=n(7),m=n(369),j=n.n(m),f=n(397),h=n.n(f),O=n(368),g=n.n(O),p=n(20),v=n(39),y=n(158),x=n(58),S=n(49),w=n(0),_=n(150),T=n(255),D=n(344),C=n(139),P=n(330),E=function(e){var t=Object(w.useState)({isShow:!1,type:"success",message:"common:alert.success"}),n=Object(S.a)(t,2),a=n[0],r=n[1],i=Object(T.a)("listAllAdministrator",(function(){return Object(_.a)("/administrator/all","GET",{limit:j.limit,page:j.page})}),{refetchOnMount:!0,refetchOnWindowFocus:!0}),o=i.data,c=i.isLoading,s=i.refetch,l=Object(D.a)("administratorMutationUpdate",(function(e){return Object(_.a)("/administrator/delete/".concat(e),"DELETE",{})})),u=l.data,d=l.mutate,b=l.error;Object(w.useEffect)((function(){var t;(null===(t=e.location.state)||void 0===t?void 0:t.success)&&(e.replace("/dashboard/administrator"),r({isShow:!0,type:"success",message:"common:alert.success"}))}),[e.location.state]),Object(w.useEffect)((function(){a.isShow&&setTimeout((function(){r(Object(x.a)(Object(x.a)({},a),{},{isShow:!1}))}),5e3)}),[a]);var m=Object(P.a)(o,s),j=m.pageSummary,f=m.handleChangePage,h=m.getPaginationTotal;return Object(w.useEffect)((function(){Object(C.a)(u)&&(s(),r({isShow:!0,type:"success",message:"common:alert.success"}),window.scrollTo(0,0)),b&&(r({isShow:!0,type:"error",message:(null===b||void 0===b?void 0:b.message)||"common:alert.failed"}),window.scrollTo(0,0))}),[u,b]),{alert:a,data:o,isLoading:c,refetch:s,handleDelete:function(e){d(e)},pageSummary:j,getPaginationTotal:h,handleChangePage:f}},N=n(398),k=n(3),z=function(e){return[{name:"number",label:e("common:label.no")},{name:"id",label:e("dashboard_administrator:table.header.id")},{name:"username",label:e("dashboard_administrator:table.header.username")},{name:"fullName",label:e("common:label.fullName")},{name:"createdAt",label:e("common:label.createdAt")},{name:"createdBy",label:e("common:label.createdBy")},{name:"action",label:e("common:label.action")}]},I=Object(p.a)(N.a)((function(e){var t,n=e.classes,a=e.t,r=Object(b.f)(),m=E(r),f=m.alert,O=m.data,p=m.isLoading,x=m.handleDelete,S=m.getPaginationTotal,w=m.handleChangePage,_=m.pageSummary;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(i.a,{display:"flex",justifyContent:"center",className:n.logo_login_wrapper,children:Object(k.jsx)(i.a,{alignSelf:"center",children:Object(k.jsx)("h2",{children:a("dashboard_administrator:table.title")})})}),f.isShow&&Object(k.jsx)(i.a,{marginBottom:2,children:Object(k.jsx)(l.a,{severity:f.type,children:a(f.message)})}),Object(k.jsx)(o.a,{startIcon:Object(k.jsx)(g.a,{}),variant:"contained",color:"primary",className:n.button_tambah,onClick:function(){return r.push("/dashboard/administrator/add")},children:a("dashboard_administrator:button.add")}),Object(k.jsx)(v.d,{isLoading:p,headers:z(a),children:null===O||void 0===O||null===(t=O.data)||void 0===t?void 0:t.map((function(e,t){return Object(k.jsxs)(c.a,{children:[Object(k.jsx)(s.a,{component:"th",scope:"row",children:t+1}),Object(k.jsx)(s.a,{children:e.administratorId}),Object(k.jsx)(s.a,{children:e.username}),Object(k.jsx)(s.a,{children:e.fullName}),Object(k.jsx)(s.a,{children:Object(y.a)(e.createdAt)}),Object(k.jsx)(s.a,{children:e.createdBy}),Object(k.jsxs)(s.a,{children:[Object(k.jsx)(d.a,{title:"Ubah","aria-label":"edit",color:"primary",onClick:function(){return r.push("/dashboard/administrator/"+e.administratorId)},children:Object(k.jsx)(j.a,{fontSize:"small"})}),Object(k.jsx)(d.a,{title:"Hapus","aria-label":"delete",color:"secondary",onClick:function(){return x(e.administratorId)},children:Object(k.jsx)(h.a,{fontSize:"small"})})]})]},e.administratorId)}))}),Object(k.jsx)(i.a,{marginTop:2,display:"flex",justifyContent:"flex-end",children:Object(k.jsx)(u.a,{count:S(),onChange:w,page:Number(_.page),color:"primary"})})]})})),L=n(180);t.default=Object(r.a)(["dashboard_administrator","glossary"])((function(e){var t=e.t,n=e.history,r=e.location;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(a.a,{children:[Object(k.jsx)("title",{children:t("dashboard_administrator:metaTitle")}),Object(k.jsx)("meta",{name:"description",content:t("dashboard_administrator:metaDescription")})]}),Object(k.jsx)(L.a,{t:t,history:n,children:Object(k.jsx)(I,{t:t,history:n,location:r})})]})}))}}]);
//# sourceMappingURL=27.451bc22f.chunk.js.map