{"version":3,"sources":["helpers/auth.helper.js","constants/httpStatus.constant.js","helpers/fetchApi.helper.js","apps/components/core/SearchProduct/index.js","apps/components/core/Header/index.js","apps/components/core/index.js","apps/containers/Dashboard/style.jsx","hooks/Dashboard/useSubmitLogin.hook.js","apps/containers/Dashboard/Login.container.jsx","apps/layouts/Login.layout.jsx","views/dashboard/Login.view.jsx"],"names":["setAuth","data","localStorage","setItem","JSON","stringify","getUser","parse","getItem","err","console","error","logout","clear","window","location","replace","IS_OK","response","code","StatusCodes","OK","IS_UNAUTHORIZED","UNAUTHORIZED","isMethodGET","method","fetchApiClient","url","fetch","format","qs","bindUrlWithParam","process","headers","api_token","token","body","undefined","then","json","respData","message","Error","SummaryDialog","lazy","IdentityDataDialog","ConfirmationPinDialog","Dashboard","Login","Footer","SidebarMenuLeft","styles","theme","button_login","marginTop","login_box","padding","login_root","margin","form","width","spacing","logo_login_wrapper","paddingBottom","textAlign","useSubmitLoginHook","history","useState","showAlert","setShowAlert","useMutation","requestData","isLoading","mutate","useEffect","handleSubmit","event","preventDefault","username","target","value","password","withStyles","classes","t","Grid","className","item","xs","md","lg","Paper","variant","Box","display","justifyContent","alignSelf","Divider","onSubmit","flexDirection","TextField","placeholder","InputProps","startAdornment","InputAdornment","position","AccountCircle","type","Lock","Floating","severity","text","useStyles","makeStyles","root","LoginLayout","children","withTranslation","props","Helmet","name","content"],"mappings":"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","file":"static/js/23.1fe83952.chunk.js","sourcesContent":["export const setAuth = (data) => {\n  localStorage.setItem('maqshaf-user', JSON.stringify(data?.data));\n};\n\nexport const getUser = () => {\n  try {\n    return JSON.parse(localStorage.getItem('maqshaf-user'));\n  } catch (err) {\n    console.error(err);\n    return null;\n  }\n};\n\nexport const logout = () => {\n  localStorage.clear();\n  window.location.replace('/dashboard/login');\n};\n","import { StatusCodes } from 'http-status-codes';\n\nexport const IS_OK = (response) => response?.code === StatusCodes.OK;\n\nexport const IS_UNAUTHORIZED = (response) => response?.code === StatusCodes.UNAUTHORIZED;\n","import format from 'string-template';\nimport qs from 'qs';\nimport { IS_OK, IS_UNAUTHORIZED } from 'constants/httpStatus.constant';\nimport { getUser, logout } from 'helpers/auth.helper';\n\nconst isMethodGET = (method) => method === 'GET';\n\nconst bindUrlWithParam = (url, method, data) =>\n  format(url, data) + (isMethodGET(method) ? `?${qs.stringify(data)}` : '');\n\nexport const fetchApiClient = (url, method, data) =>\n  fetch(bindUrlWithParam(process.env.REACT_APP_API + url, method, data), {\n    method,\n    headers: {\n      api_token: getUser()?.token,\n      'Content-Type': 'application/json',\n    },\n    body: !isMethodGET(method) ? JSON.stringify(data) : undefined,\n  })\n    .then((response) => response.json())\n    .then((respData) => {\n      if (IS_UNAUTHORIZED(respData)) {\n        logout();\n      }\n\n      if (!IS_OK(respData)) {\n        const { code, message, data } = respData;\n        const error = new Error(message);\n        error.code = code;\n        error.message = message;\n        error.data = data;\n        throw error;\n      }\n      return respData;\n    });\n","import { lazy } from \"react\";\n\nconst SummaryDialog = lazy(() => import(\"./SummaryDialog.component\"));\nconst IdentityDataDialog = lazy(() => import(\"./IdentityDataDialog.component\"));\nconst ConfirmationPinDialog = lazy(() =>\n  import(\"./ConfirmationPinDialog.component\")\n);\n\nexport default { SummaryDialog, IdentityDataDialog, ConfirmationPinDialog };\n","import { lazy } from 'react';\n\nconst Dashboard = lazy(() => import('./Dashboard.component'));\nconst Login = lazy(() => import('./Login.component'));\n\nexport default { Dashboard, Login };\n","import { lazy } from 'react';\nimport SearchProduct from './SearchProduct';\nimport Header from './Header';\n\nconst Footer = lazy(() => import('./Footer/Footer.component'));\nconst SidebarMenuLeft = lazy(() => import('./SidebarLeftMenu/SidebarMenuLeft.component'));\n\nexport { Footer, SearchProduct, Header, SidebarMenuLeft };\n","const styles = (theme) => ({\n  button_login: {\n    marginTop: 16,\n  },\n  login_box: {\n    padding: 16,\n  },\n  login_root: {\n    margin: '0 auto',\n    marginTop: '10%',\n  },\n  form: {\n    width: '100%',\n    marginTop: 24,\n  },\n  margin: {\n    margin: theme.spacing(2),\n  },\n  logo_login_wrapper: {\n    paddingBottom: 16,\n    margin: '0 auto',\n    textAlign: 'center',\n  },\n});\n\nexport default styles;\n","import { useEffect, useState } from 'react';\nimport { useMutation } from 'react-query';\nimport { fetchApiClient } from 'helpers/fetchApi.helper';\nimport { IS_OK } from 'constants/httpStatus.constant';\nimport { setAuth } from 'helpers/auth.helper';\n\nconst useSubmitLoginHook = (history) => {\n  const [showAlert, setShowAlert] = useState(false);\n  const { data, error, isLoading, mutate } = useMutation('listAllUser', (requestData) =>\n    fetchApiClient(`/administrator/login`, 'POST', requestData)\n  );\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const username = event.target[0].value;\n    const password = event.target[1].value;\n    mutate({ username, password });\n  };\n\n  useEffect(() => {\n    if (IS_OK(data)) {\n      setAuth(data);\n      history.replace('/dashboard');\n    }\n\n    if (error) {\n      setShowAlert(true);\n    }\n  }, [data, error]);\n\n  return { error, isLoading, handleSubmit, showAlert, setShowAlert };\n};\n\nexport default useSubmitLoginHook;\n","import { func, object } from 'prop-types';\nimport { TextField, Grid, Paper, Box, InputAdornment, Divider } from '@material-ui/core';\nimport { AccountCircle, Lock } from '@material-ui/icons';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Alert, Button } from 'apps/components/ui';\nimport useSubmitLoginHook from 'hooks/Dashboard/useSubmitLogin.hook';\n\nimport styles from './style';\n\nconst LoginContainer = ({ classes, t, history }) => {\n  const { error, isLoading, handleSubmit, showAlert, setShowAlert } = useSubmitLoginHook(history);\n  return (\n    <Grid className={classes.login_root} item xs={12} md={6} lg={4}>\n      <Paper variant=\"outlined\" className={classes.login_box}>\n        <Box display=\"flex\" justifyContent=\"center\" className={classes.logo_login_wrapper}>\n          <Box alignSelf=\"center\">\n            <h2>Login Administrator</h2>\n          </Box>\n        </Box>\n        <Divider />\n        <form onSubmit={handleSubmit} className={classes.form}>\n          <Box display=\"flex\" flexDirection=\"column\">\n            <TextField\n              className={classes.margin}\n              placeholder={t('dashboard_login:placeholderUsername')}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <AccountCircle />\n                  </InputAdornment>\n                ),\n              }}\n            />\n            <TextField\n              type=\"password\"\n              className={classes.margin}\n              placeholder={t('dashboard_login:placeholderPassword')}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <Lock />\n                  </InputAdornment>\n                ),\n              }}\n            />\n            <Button type=\"submit\" className={classes.button_login} isLoading={isLoading}>\n              {t('dashboard_login:loginLabel')}\n            </Button>\n          </Box>\n        </form>\n      </Paper>\n      <Alert.Floating\n        severity=\"error\"\n        showAlert={showAlert}\n        setShowAlert={setShowAlert}\n        text={error?.message}\n      />\n    </Grid>\n  );\n};\n\nLoginContainer.propTypes = {\n  classes: object.isRequired,\n  t: func.isRequired,\n  history: object.isRequired,\n  location: object.isRequired,\n};\n\nexport default withStyles(styles)(LoginContainer);\n","import { useEffect } from 'react';\nimport { element, func } from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Footer, Header } from 'apps/components/core';\nimport { getUser } from 'helpers/auth.helper';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& main': {\n      padding: theme.spacing(3),\n    },\n  },\n}));\n\nconst LoginLayout = ({ children, t, history }) => {\n  const classes = useStyles();\n  useEffect(() => {\n    if (getUser()) {\n      history.replace('/dashboard');\n    }\n  }, []);\n  return (\n    <div className={classes.root}>\n      <Header.Login t={t} />\n      <main>{children}</main>\n      <Footer t={t} />\n    </div>\n  );\n};\n\nLoginLayout.propTypes = {\n  children: element.isRequired,\n  t: func.isRequired,\n};\n\nexport default LoginLayout;\n","import { Helmet } from 'react-helmet';\nimport { withTranslation } from 'react-i18next';\nimport { func, object } from 'prop-types';\nimport LoginContainer from 'apps/containers/Dashboard/Login.container';\nimport LoginLayout from 'apps/layouts/Login.layout';\n\nconst LoginView = (props) => {\n  const { t, history, location } = props;\n  return (\n    <>\n      <Helmet>\n        <title>{t('dashboard_login:metaTitle')}</title>\n        <meta name=\"description\" content={t('dashboard_login:metaDescription')} />\n      </Helmet>\n      <LoginLayout t={t} history={history}>\n        <LoginContainer t={t} history={history} location={location} />\n      </LoginLayout>\n    </>\n  );\n};\n\nLoginView.propTypes = {\n  t: func.isRequired,\n  history: object.isRequired,\n  location: object.isRequired,\n};\n\nexport default withTranslation(['dashboard_login', 'glossary'])(LoginView);\n"],"sourceRoot":""}