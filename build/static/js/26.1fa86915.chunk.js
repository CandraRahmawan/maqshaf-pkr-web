(this["webpackJsonpmaqshaf-pkr-web"]=this["webpackJsonpmaqshaf-pkr-web"]||[]).push([[26],{138:function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return i}));var n=function(t){localStorage.setItem("maqshaf-user",JSON.stringify(null===t||void 0===t?void 0:t.data))},r=function(){try{return JSON.parse(localStorage.getItem("maqshaf-user"))}catch(t){return console.error(t),null}},i=function(){localStorage.clear(),window.location.replace("/dashboard/login")}},139:function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return i}));var n=a(470),r=function(t){return(null===t||void 0===t?void 0:t.code)===n.a.OK},i=function(t){return(null===t||void 0===t?void 0:t.code)===n.a.UNAUTHORIZED}},148:function(t,e,a){"use strict";a.d(e,"a",(function(){return d}));var n=a(58),r=a(210),i=a.n(r),o=a(211),c=a.n(o),s=a(139),l=a(138),u=function(t){return"GET"===t},d=function(t,e,a,r){var o;return fetch(function(t,e,a){return i()(t,a)+(u(e)?"?".concat(c.a.stringify(a)):"")}("https://maqshaf-api-dev.pesantrenkhoirurrooziqiin.com"+t,e,a),{method:e,headers:Object(n.a)({api_token:null===(o=Object(l.a)())||void 0===o?void 0:o.token},!r&&{"Content-Type":"application/json"}),body:u(e)?void 0:r?a:JSON.stringify(a)}).then((function(t){return t.json()})).then((function(t){if(Object(s.b)(t)&&Object(l.b)(),!Object(s.a)(t)){var e=t.code,a=t.message,n=t.data,r=new Error(a);throw r.code=e,r.message=a,r.data=n,r}return t}))}},155:function(t,e,a){"use strict";a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return c})),a.d(e,"d",(function(){return r})),a.d(e,"c",(function(){return i})),a.d(e,"e",(function(){return s}));var n=a(0),r={SummaryDialog:Object(n.lazy)((function(){return Promise.all([a.e(6),a.e(24),a.e(34)]).then(a.bind(null,493))})),IdentityDataDialog:Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(4),a.e(15),a.e(28)]).then(a.bind(null,530))})),ConfirmationPinDialog:Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(3),a.e(4),a.e(27)]).then(a.bind(null,497))}))},i={Dashboard:Object(n.lazy)((function(){return Promise.all([a.e(30),a.e(36)]).then(a.bind(null,498))})),Login:Object(n.lazy)((function(){return a.e(37).then(a.bind(null,502))}))},o=Object(n.lazy)((function(){return a.e(35).then(a.bind(null,528))})),c=Object(n.lazy)((function(){return Promise.all([a.e(21),a.e(39)]).then(a.bind(null,476))})),s=Object(n.lazy)((function(){return Promise.all([a.e(1),a.e(19),a.e(40)]).then(a.bind(null,529))}))},162:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return o}));var n=a(51),r=a.n(n),i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Rp",a=t.toString().split("").reverse().join(""),n=a.match(/\d{1,3}/g);return"".concat(e,". ").concat(n.join(".").split("").reverse().join(""))},o=function(t){return r()(t).format("MM MMM YYYY, HH:mm")}},177:function(t,e,a){"use strict";var n=a(59),r=a(49),i=a(58),o=a(0),c=a(8),s=a(123),l=a(155),u=a(138),d=a(3),b=Object(s.a)((function(t){return{drawer_header:Object(i.a)(Object(i.a)({display:"flex",alignItems:"center",padding:t.spacing(0,1)},t.mixins.toolbar),{},{justifyContent:"flex-end"}),main_wrapper:{flexGrow:1,padding:t.spacing(3)},content:{flexGrow:1,padding:t.spacing(3),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingscreen})},content_shift:{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeout,duration:t.transitions.duration.enteringscreen}),marginLeft:0}}}));e.a=function(t){var e=t.children,a=t.t,i=t.history,s=b(),m=Object(o.useState)(!1),j=Object(r.a)(m,2),f=j[0],h=j[1];return Object(o.useEffect)((function(){Object(u.a)()||i.replace("/dashboard/login")}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(l.c.Dashboard,{t:a,open:f,handleDrawerOpen:function(){return h(!0)}}),Object(d.jsx)(l.e,{t:a,open:f,handleDrawerClose:function(){return h(!1)}}),Object(d.jsxs)("main",{className:Object(c.a)(s.content,Object(n.a)({},s.content_shift,f)),children:[Object(d.jsx)("div",{className:s.drawer_header}),e]}),Object(d.jsx)(l.a,{t:a})]})}},212:function(t,e){},330:function(t,e,a){"use strict";var n=a(59),r=a(58),i=a(49),o=a(0),c=a(190),s={page:1,limit:10,total:0};e.a=function(t,e,a){var l=Object(o.useState)({}),u=Object(i.a)(l,2),d=u[0],b=u[1],m=Object(o.useState)(s),j=Object(i.a)(m,2),f=j[0],h=j[1],O=Object(o.useState)(!1),g=Object(i.a)(O,2),p=g[0],v=g[1],y=Object(o.useState)([]),x=Object(i.a)(y,2),S=x[0],w=x[1],_=Object(o.useState)([]),E=Object(i.a)(_,2),D=E[0],T=E[1],C=Object(o.useState)([]),P=Object(i.a)(C,2),N=P[0],k=P[1];Object(o.useEffect)((function(){var a,n,i,o;((null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.data)&&Object(c.isEmpty)(d)&&(h(Object(r.a)(Object(r.a)({},f),{},{total:null===t||void 0===t?void 0:t.data.pageSummary.total,page:null===t||void 0===t?void 0:t.data.pageSummary.current_page})),w(null===t||void 0===t?void 0:t.data)),(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data)&&!Object(c.isEmpty)(d))&&(h(Object(r.a)(Object(r.a)({},f),{},{total:Number(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.pageSummary.total),page:Number(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.pageSummary.current_page)})),T(null===e||void 0===e?void 0:e.data))}),[null===t||void 0===t?void 0:t.data,null===e||void 0===e?void 0:e.data]);Object(o.useEffect)((function(){p&&!Object(c.isEmpty)(d)?k(D):(p&&Object(c.isEmpty)(d)||a)&&k(S)}),[D,S,d,a]);return{pageSummary:f,searchValue:d,responseData:N,handleSearch:function(a){"Enter"===a.key?(T(S),h(s),setTimeout((function(){Object(c.isEmpty)(d)?t.refetch():e.refetch()}),0),v(!0),a.preventDefault()):v(!1)},handleChange:function(t,e){v(!1);var a=t.currentTarget.value||t.target.value;if(a)b(Object(r.a)(Object(r.a)({},d),{},Object(n.a)({},e,a)));else{var i=Object(c.omit)(d,e);b(i)}},getPaginationTotal:function(){if(f.total<f.limit)return 1;var t=f.total%f.limit===0?0:1,e=f.total/f.limit;return Math.floor(e+t)},handleChangePage:function(a,n){h(Object(r.a)(Object(r.a)({},f),{},{page:n})),setTimeout((function(){Object(c.isEmpty)(d)?t.refetch():e.refetch()}),0)},setSearchValue:b}}},397:function(t,e,a){"use strict";e.a=function(t){return{button_tambah:{marginBottom:20,marginTop:20},title_divider:{marginBottom:20},paper_form:{padding:20}}}},514:function(t,e,a){"use strict";a.r(e);var n=a(216),r=a(510),i=a(130),o=a(128),c=a(345),s=a(346),l=a(342),u=a(377),d=a(215),b=a(7),m=a(369),j=a.n(m),f=a(396),h=a.n(f),O=a(368),g=a.n(O),p=a(20),v=a(39),y=a(162),x=a(58),S=a(49),w=a(0),_=a(148),E=a(255),D=a(343),T=a(139),C=a(330),P=function(t){var e=Object(w.useState)({isShow:!1,type:"success",message:"common:alert.success"}),a=Object(S.a)(e,2),n=a[0],r=a[1],i=Object(E.a)("listAllAdministrator",(function(){return Object(_.a)("/administrator/all","GET",{limit:f.limit,page:f.page})}),{refetchOnMount:"always"}),o=i.data,c=i.isLoading,s=i.refetch,l=Object(D.a)("administratorMutationUpdate",(function(t){return Object(_.a)("/administrator/delete/".concat(t),"DELETE",{})})),u=l.data,d=l.mutate,b=l.error;Object(w.useEffect)((function(){var e;(null===(e=t.location.state)||void 0===e?void 0:e.success)&&(t.replace("/dashboard/administrator"),r({isShow:!0,type:"success",message:"common:alert.success"}))}),[t.location.state]),Object(w.useEffect)((function(){n.isShow&&setTimeout((function(){r(Object(x.a)(Object(x.a)({},n),{},{isShow:!1}))}),3e3)}),[n]);var m=Object(C.a)({data:o,refetch:s}),j=m.responseData,f=m.pageSummary,h=m.handleChangePage,O=m.getPaginationTotal;return Object(w.useEffect)((function(){Object(T.a)(u)&&(s(),r({isShow:!0,type:"success",message:"common:alert.success"})),b&&r({isShow:!0,type:"error",message:"common:alert.failed"})}),[u,b]),{alert:n,data:j,isLoading:c,refetch:s,handleDelete:function(t){d(t)},pageSummary:f,getPaginationTotal:O,handleChangePage:h}},N=a(397),k=a(3),z=function(t){return[{name:"number",label:t("common:label.no")},{name:"id",label:t("dashboard_administrator:table.header.id")},{name:"username",label:t("dashboard_administrator:table.header.username")},{name:"fullName",label:t("common:label.fullName")},{name:"createdAt",label:t("common:label.createdAt")},{name:"action",label:t("common:label.action")}]},I=Object(p.a)(N.a)((function(t){var e,a=t.classes,n=t.t,r=Object(b.f)(),m=P(r),f=m.alert,O=m.data,p=m.isLoading,x=m.handleDelete,S=m.getPaginationTotal,w=m.handleChangePage,_=m.pageSummary;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(i.a,{display:"flex",justifyContent:"center",className:a.logo_login_wrapper,children:Object(k.jsx)(i.a,{alignSelf:"center",children:Object(k.jsx)("h2",{children:n("dashboard_administrator:table.title")})})}),f.isShow&&Object(k.jsx)(i.a,{marginBottom:2,children:Object(k.jsx)(l.a,{severity:f.type,children:n(f.message)})}),Object(k.jsx)(o.a,{startIcon:Object(k.jsx)(g.a,{}),variant:"contained",color:"primary",className:a.button_tambah,onClick:function(){return r.push("/dashboard/administrator/add")},children:n("dashboard_administrator:button.add")}),Object(k.jsx)(v.d,{isLoading:p,headers:z(n),children:null===O||void 0===O||null===(e=O.data)||void 0===e?void 0:e.map((function(t,e){return Object(k.jsxs)(c.a,{children:[Object(k.jsx)(s.a,{component:"th",scope:"row",children:e+1}),Object(k.jsx)(s.a,{children:t.administratorId}),Object(k.jsx)(s.a,{children:t.username}),Object(k.jsx)(s.a,{children:t.fullName}),Object(k.jsx)(s.a,{children:Object(y.a)(t.createdAt)}),Object(k.jsxs)(s.a,{children:[Object(k.jsx)(d.a,{title:"Ubah","aria-label":"edit",color:"primary",onClick:function(){return r.push("/dashboard/administrator/"+t.administratorId)},children:Object(k.jsx)(j.a,{fontSize:"small"})}),Object(k.jsx)(d.a,{title:"Hapus","aria-label":"delete",color:"secondary",onClick:function(){return x(t.administratorId)},children:Object(k.jsx)(h.a,{fontSize:"small"})})]})]},t.administratorId)}))}),Object(k.jsx)(i.a,{marginTop:2,display:"flex",justifyContent:"flex-end",children:Object(k.jsx)(u.a,{count:S(),onChange:w,page:Number(_.page),color:"primary"})})]})})),M=a(177);e.default=Object(r.a)(["dashboard_administrator","glossary"])((function(t){var e=t.t,a=t.history,r=t.location;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(n.a,{children:[Object(k.jsx)("title",{children:e("dashboard_administrator:metaTitle")}),Object(k.jsx)("meta",{name:"description",content:e("dashboard_administrator:metaDescription")})]}),Object(k.jsx)(M.a,{t:e,history:a,children:Object(k.jsx)(I,{t:e,history:a,location:r})})]})}))}}]);
//# sourceMappingURL=26.1fa86915.chunk.js.map