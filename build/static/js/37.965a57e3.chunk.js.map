{"version":3,"sources":["helpers/formattor.helper.js","apps/components/ui/Cards/style.js","apps/components/ui/Cards/Card.component.jsx"],"names":["rupiahFormat","value","currency","reverse","toString","split","join","reverseMatch","match","defaultFormatDate","date","dayjs","format","useStyles","makeStyles","theme","root","borderRadius","breakpoints","down","minWidth","paddingBottom","width","height","fontSize","fontWeight","media","backgroundSize","margin","content_background","backgroundColor","CardComponent","props","image","title","price","category","masterGoodsId","t","openModal","addCartAction","selectedItems","useState","showAlert","setShowAlert","classes","isXsDevice","useMediaQuery","handleShowAlert","Card","className","CardActionArea","onClick","qty","name","CardMedia","CardContent","Typography","color","variant","gutterBottom","CardActions","Button","size","tempSelected","idx","findIndex","obj","selected","tempSelectedFiltered","filter","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","onClose","Alert","severity"],"mappings":"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","file":"static/js/37.965a57e3.chunk.js","sourcesContent":["import dayjs from 'dayjs';\n\nexport const rupiahFormat = (value, currency = 'Rp') => {\n  if (value) {\n    const reverse = value.toString().split('').reverse().join('');\n    const reverseMatch = reverse.match(/\\d{1,3}/g);\n    return `${currency}. ${reverseMatch.join('.').split('').reverse().join('')}`;\n  }\n  return value\n};\n\nexport const defaultFormatDate = (date) => {\n  return dayjs(date).format('DD MMM YYYY, HH:mm');\n};\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const useStyles = makeStyles((theme) => ({\n  root: {\n    borderRadius: 10,\n    [theme.breakpoints.down(\"xs\")]: {\n      minWidth: 150,\n    },\n\n    \"& .MuiCardContent-root\": {\n      [theme.breakpoints.down(\"xs\")]: {\n        paddingBottom: 0,\n      },\n    },\n\n    \"& .MuiTypography-h5\": {\n      width: 200,\n      height: 50,\n      fontSize: 20,\n      [theme.breakpoints.down(\"xs\")]: {\n        width: \"auto\",\n        height: 40,\n        fontSize: 16,\n      },\n    },\n\n    \"& .MuiTypography-h6\": {\n      fontWeight: 400,\n      [theme.breakpoints.down(\"xs\")]: {\n        fontSize: 16,\n      },\n    },\n\n    \"& span.MuiTypography-colorTextSecondary\": {\n      [theme.breakpoints.down(\"xs\")]: {\n        fontSize: 12,\n      },\n    },\n\n    \"& button\": {\n      width: \"100%\",\n    },\n  },\n\n  media: {\n    height: 140,\n    backgroundSize: \"contain\",\n    margin: 16,\n  },\n\n  content_background: {\n    backgroundColor: \"#f5f5f5\",\n  },\n}));\n","import { useState } from 'react';\nimport { string, number, func, array } from 'prop-types';\nimport {\n  Card,\n  CardActionArea,\n  CardActions,\n  CardContent,\n  CardMedia,\n  Button,\n  Typography,\n  useMediaQuery,\n  Snackbar,\n} from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport AddShoppingCartIcon from '@material-ui/icons/AddShoppingCart';\nimport { rupiahFormat } from 'helpers/formattor.helper';\n\nimport { useStyles } from './style';\n\nconst CardComponent = (props) => {\n  const { image, title, price, currency, category, masterGoodsId, t, openModal, addCartAction, selectedItems } =\n    props;\n  const [showAlert, setShowAlert] = useState(false);\n  const classes = useStyles();\n  const isXsDevice = useMediaQuery((theme) => theme.breakpoints.down('xs'));\n  const handleShowAlert = () => setShowAlert(true);\n\n\n  const addToCart = () => {\n    let tempSelected = selectedItems\n    const idx = tempSelected.findIndex((obj) => obj.masterGoodsId === masterGoodsId)\n    if (idx !== -1) {\n      const selected = { ...tempSelected[idx], qty: tempSelected[idx].qty + 1 }\n      const tempSelectedFiltered = tempSelected.filter((obj) => obj.masterGoodsId !== masterGoodsId)\n      tempSelected = [\n        selected,\n        ...tempSelectedFiltered,\n      ]\n    } else {\n      tempSelected = [\n        {\n          masterGoodsId,\n          image,\n          qty: 1,\n          currency,\n          price,\n          name: title,\n        },\n        ...selectedItems,\n      ]\n    }\n    addCartAction(tempSelected)\n  }\n\n  return (\n    <Card className={classes.root} key={title}>\n      <CardActionArea\n        className={classes.content_background}\n        onClick={() => {\n          openModal();\n          addCartAction([\n            {\n              masterGoodsId,\n              qty: 1,\n              price,\n              currency,\n              name: title,\n              image,\n            },\n          ]);\n        }}\n      >\n        <CardMedia className={classes.media} image={image} title={title} />\n      </CardActionArea>\n      <CardContent>\n        <Typography color=\"textSecondary\" variant=\"p\">\n          {category}\n        </Typography>\n        <Typography gutterBottom variant=\"h5\">\n          {title}\n        </Typography>\n        <Typography color=\"textSecondary\" variant=\"h6\">\n          {rupiahFormat(price, currency)}\n        </Typography>\n      </CardContent>\n      <CardActions>\n        <Button\n          size=\"small\"\n          color=\"primary\"\n          variant=\"contained\"\n          onClick={addToCart}\n        >\n          {isXsDevice ? (\n            <AddShoppingCartIcon onClick={handleShowAlert} />\n          ) : (\n            <span onClick={handleShowAlert}>{t('search_product:addToCart')}</span>\n          )}\n        </Button>\n      </CardActions>\n      <Snackbar anchorOrigin={{ vertical: 'top', horizontal: 'center' }} open={showAlert} autoHideDuration={2000} onClose={() => setShowAlert(false)}>\n        <Alert\n          severity=\"success\" variant=\"filled\"\n        >\n          {t('search_product:alert.successAddCart')}\n        </Alert>\n      </Snackbar>\n    </Card>\n  );\n};\n\nCardComponent.propTypes = {\n  t: func.isRequired,\n  masterGoodsId: string.isRequired,\n  image: string.isRequired,\n  title: string.isRequired,\n  price: number.isRequired,\n  currency: string.isRequired,\n  category: string.isRequired,\n  openModal: func.isRequired,\n  addCartAction: func.isRequired,\n  selectedItems: array.isRequired,\n};\n\nexport default CardComponent;\n"],"sourceRoot":""}