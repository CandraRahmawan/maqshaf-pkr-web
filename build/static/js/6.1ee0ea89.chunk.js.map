{"version":3,"sources":["helpers/formattor.helper.js","helpers/fetchApi.helper.js","hooks/useSearchProduct.hook.js","apps/containers/SearchProduct/style.jsx","apps/containers/SearchProduct/SearchProduct.container.jsx","apps/components/core/index.js","apps/layouts/ShopProduct.layout.jsx","views/shop/SearchProduct.view.jsx"],"names":["rupiahFormat","value","currency","reverse","toString","split","join","reverseMatch","match","isMethodGET","method","fetchApiClient","url","data","fetch","format","qs","stringify","bindUrlWithParam","process","body","undefined","JSON","then","response","json","respData","code","message","error","Error","useSearchProductHook","useState","keyword","setKeyword","useQuery","name","goodList","isLoading","styles","theme","root","color","whiteColor","fab","position","bottom","spacing","right","backgroundColor","orangeColor","badge","zIndex","listModalImage","marginRight","width","height","listModalText","blackColor","closeButton","top","palette","grey","wrapperHeader","padding","primaryColor","marginTop","marginBottom","border","fontSize","search","borderRadius","listProduct","minHeight","withStyles","props","classes","t","dispatch","useDispatch","open","setOpen","useSelector","state","cartSelected","items","total","handleOpenModal","handleCloseModal","addCartAction","selectCart","className","Container","TextField","onChange","event","target","size","variant","placeholder","InputProps","startAdornment","InputAdornment","Search","Grid","container","item","xs","label","justifyContent","map","image","title","price","category","openModal","selectedItems","masterGoodsId","Badge","badgeContent","length","anchorOrigin","vertical","horizontal","Fab","aria-label","onClick","ShoppingCart","Dialog","fullScreen","aria-labelledby","onClose","DialogTitle","disableTypography","Typography","IconButton","Close","DialogContent","List","ListItem","ListItemAvatar","src","alt","ListItemText","primary","secondary","Divider","Box","display","DialogActions","Button","clearCart","Footer","lazy","useStyles","makeStyles","ShopProductLayout","children","withTranslation","history","location","Helmet","content"],"mappings":"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","file":"static/js/6.1ee0ea89.chunk.js","sourcesContent":["export const rupiahFormat = (value, currency = \"Rp\") => {\n  const reverse = value.toString().split(\"\").reverse().join(\"\");\n  const reverseMatch = reverse.match(/\\d{1,3}/g);\n  return `${currency}. ${reverseMatch.join(\".\").split(\"\").reverse().join(\"\")}`;\n};\n","import format from \"string-template\";\nimport qs from \"qs\";\n\nconst API_URL =\n  process.env.NODE_ENV === \"development\" ? \"\" : process.env.REACT_APP_API;\n\nconst isMethodGET = (method) => method === \"GET\";\n\nconst bindUrlWithParam = (url, method, data) =>\n  format(url, data) + (isMethodGET(method) ? `?${qs.stringify(data)}` : \"\");\n\nexport const fetchApiClient = (url, method, data) =>\n  fetch(bindUrlWithParam(API_URL + url, method, data), {\n    method,\n    body: !isMethodGET(method) ? JSON.stringify(data) : undefined,\n  })\n    .then((response) => response.json())\n    .then((respData) => {\n      if (respData?.code !== 200) {\n        const { code, message, data } = respData;\n        const error = new Error(message);\n        error.code = code;\n        error.message = message;\n        error.data = data;\n        throw error;\n      }\n      return respData;\n    });\n","import { useState } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { fetchApiClient } from \"helpers/fetchApi.helper\";\n\nconst useSearchProductHook = () => {\n  const [keyword, setKeyword] = useState(\"\");\n  const { data: goodList, isLoading } = useQuery([\"listProduct\", keyword], () =>\n    fetchApiClient(`/mastergood/search`, \"GET\", {\n      name: keyword,\n    })\n  );\n  return { goodList, isLoading, setKeyword };\n};\n\nexport default useSearchProductHook;\n","const styles = (theme) => ({\n  root: {\n    color: theme.whiteColor,\n  },\n  fab: {\n    position: \"fixed\",\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n    backgroundColor: theme.orangeColor,\n    color: theme.whiteColor,\n  },\n  badge: {\n    position: \"fixed\",\n    bottom: theme.spacing(8),\n    right: theme.spacing(3),\n    zIndex: 1,\n  },\n  listModalImage: {\n    marginRight: 12,\n    \"& img\": {\n      width: 50,\n      height: 50,\n    },\n  },\n  listModalText: {\n    color: theme.blackColor,\n  },\n  closeButton: {\n    position: \"absolute\",\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n  wrapperHeader: {\n    padding: \"16px 0\",\n    color: theme.whiteColor,\n    backgroundColor: theme.primaryColor,\n    \"& h4\": {\n      marginTop: 4,\n      marginBottom: 32,\n    },\n    \"& h2\": {\n      marginTop: 0,\n      marginBottom: 4,\n    },\n    \"& .MuiInputBase-root\": {\n      color: \"inherit\",\n    },\n    \"& .MuiFormLabel-root\": {\n      color: \"inherit\",\n    },\n    \"& .MuiOutlinedInput-notchedOutline\": {\n      border: \"none\",\n    },\n    \"& .MuiOutlinedInput-input\": {\n      padding: 12,\n      fontSize: 22,\n    },\n  },\n  search: {\n    width: \"100%\",\n    backgroundColor: \"#2196f3\",\n    borderRadius: 10,\n  },\n  listProduct: {\n    marginTop: 32,\n    minHeight: 300,\n  },\n});\n\nexport default styles;\n","import { useState } from \"react\";\nimport { object, func } from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport {\n  TextField,\n  InputAdornment,\n  Container,\n  Grid,\n  Dialog,\n  DialogTitle,\n  DialogActions,\n  Button,\n  DialogContent,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  Fab,\n  Badge,\n  Divider,\n  IconButton,\n  Typography,\n  Box,\n} from \"@material-ui/core\";\nimport { useSelector } from \"react-redux\";\nimport { Search, ShoppingCart, Close } from \"@material-ui/icons\";\nimport { useDispatch } from \"react-redux\";\nimport { Card, Spinner } from \"apps/components/ui\";\nimport useSearchProductHook from \"hooks/useSearchProduct.hook\";\nimport { selectCart, clearCart } from \"redux/reducers/cartSelected.reducer\";\nimport { rupiahFormat } from \"helpers/formattor.helper\";\n\nimport styles from \"./style\";\n\nconst SearchProductContainer = (props) => {\n  const { classes, t } = props;\n  const dispatch = useDispatch();\n  const [open, setOpen] = useState(false);\n  const { goodList, isLoading, setKeyword } = useSearchProductHook();\n  const { items, total } = useSelector((state) => state.cartSelected);\n\n  const handleOpenModal = () => {\n    setOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setOpen(false);\n  };\n\n  const addCartAction = (items) => {\n    dispatch(selectCart({ items }));\n  };\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.wrapperHeader}>\n        <Container>\n          <h2>{t(\"greeting\")}</h2>\n          <h4>{t(\"subGreeting\")}</h4>\n          <TextField\n            onChange={(event) => setKeyword(event.target.value)}\n            size=\"medium\"\n            variant=\"outlined\"\n            className={classes.search}\n            placeholder={t(\"searchPlaceholder\")}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <Search color=\"white\" />\n                </InputAdornment>\n              ),\n            }}\n          />\n        </Container>\n      </div>\n      <Container className={classes.listProduct}>\n        <Grid container className={classes.root} spacing={2}>\n          <Grid item xs={12}>\n            {isLoading ? (\n              <Spinner label={t(\"common:loading\")} />\n            ) : (\n              <Grid container justifyContent=\"center\" spacing={2}>\n                {goodList?.data?.map((item) => (\n                  <Grid key={item.masterGoodsId} item>\n                    <Card\n                      t={t}\n                      image={item.image}\n                      title={item.name}\n                      price={item.price}\n                      currency={item.currency}\n                      category={item.category}\n                      openModal={handleOpenModal}\n                      addCartAction={addCartAction}\n                      selectedItems={items}\n                    />\n                  </Grid>\n                ))}\n              </Grid>\n            )}\n          </Grid>\n        </Grid>\n      </Container>\n      <Badge\n        className={classes.badge}\n        badgeContent={items.length > 0 ? items.length : null}\n        color=\"secondary\"\n        anchorOrigin={{\n          vertical: \"top\",\n          horizontal: \"right\",\n        }}\n      >\n        <Fab\n          aria-label=\"test\"\n          onClick={() => items.length > 0 && handleOpenModal()}\n          className={classes.fab}\n        >\n          <ShoppingCart />\n        </Fab>\n      </Badge>\n      <Dialog\n        fullScreen\n        open={open}\n        aria-labelledby=\"form-dialog-title\"\n        onClose={handleCloseModal}\n      >\n        <DialogTitle disableTypography>\n          <Typography variant=\"h6\">\n            {t(\"search_product:modalTotalSummaryTitle\")}\n          </Typography>\n          <IconButton\n            aria-label=\"close\"\n            className={classes.closeButton}\n            onClick={handleCloseModal}\n          >\n            <Close />\n          </IconButton>\n        </DialogTitle>\n        <DialogContent>\n          <p>{t(\"search_product:modalTotalSummaryInfo\")}</p>\n          <List>\n            {items.map((item) => (\n              <>\n                <ListItem>\n                  <ListItemAvatar className={classes.listModalImage}>\n                    <img src={item.image} alt={item.name} />\n                  </ListItemAvatar>\n                  <ListItemText\n                    className={classes.listModalText}\n                    primary={item.name}\n                    secondary={rupiahFormat(item.price, item.currency)}\n                  />\n                </ListItem>\n                <Divider />\n              </>\n            ))}\n          </List>\n          <Box display=\"flex\" justifyContent=\"space-between\">\n            <div>\n              <Typography variant=\"subtitle1\" color=\"disabled\">\n                {t(\"search_product:modalTotalBuy\")}\n              </Typography>\n            </div>\n            <div>\n              <Typography variant=\"subtitle1\">{rupiahFormat(total)}</Typography>\n            </div>\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={() => {\n              dispatch(clearCart());\n              handleCloseModal();\n            }}\n            color=\"primary\"\n          >\n            {t(\"common:cancel\")}\n          </Button>\n          <Button onClick={handleCloseModal} color=\"primary\">\n            {t(\"common:pay\")}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n\nSearchProductContainer.propTypes = {\n  t: func.isRequired,\n  history: object.isRequired,\n  location: object.isRequired,\n  classes: object.isRequired,\n};\n\nexport default withStyles(styles)(SearchProductContainer);\n","import { lazy } from \"react\";\n\nconst Footer = lazy(() => import(\"./Footer/Footer.component\"));\n\nexport { Footer };\n","import { element, func } from \"prop-types\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Footer } from \"apps/components/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n}));\n\nconst ShopProductLayout = ({ children, t }) => {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      {children}\n      <Footer t={t} />\n    </div>\n  );\n};\n\nShopProductLayout.propTypes = {\n  children: element.isRequired,\n  t: func.isRequired,\n};\n\nexport default ShopProductLayout;\n","import { Helmet } from \"react-helmet\";\nimport { withTranslation } from \"react-i18next\";\nimport { func, object } from \"prop-types\";\nimport SearchProductContainer from \"apps/containers/SearchProduct/SearchProduct.container\";\nimport ShopProductLayout from \"apps/layouts/ShopProduct.layout\";\n\nconst SearchProductView = (props) => {\n  const { t, history, location } = props;\n  return (\n    <>\n      <Helmet>\n        <title>{t(\"metaTitle\")}</title>\n        <meta name=\"description\" content={t(\"metaTitle\")} />\n      </Helmet>\n      <ShopProductLayout t={t}>\n        <SearchProductContainer t={t} history={history} location={location} />\n      </ShopProductLayout>\n    </>\n  );\n};\n\nSearchProductView.propTypes = {\n  t: func.isRequired,\n  history: object.isRequired,\n  location: object.isRequired,\n};\n\nexport default withTranslation([\"search_product\", \"glossary\"])(\n  SearchProductView\n);\n"],"sourceRoot":""}